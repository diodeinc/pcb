load("@stdlib/interfaces.zen", "Ground", "I2c", "Power")
load("@stdlib/units.zen", "Capacitance")

Capacitor = Module("@stdlib/generics/Capacitor.zen")

power = io("POWER", Power)
gnd = io("GND", Ground)
i2c = io("I2C", I2c)

Component(
    name = "IC",
    pins = {
        "VDD": power,
        "GND": gnd,
        "SCX": i2c.SCL,
        "SDX": i2c.SDA,
        "ASCX": i2c.SCL,
        "ASDX": i2c.SDA,
        "CSB": Net("CSB"),
        "GNDIO": gnd,
        "INT1": Net("INT1"),
        "INT2": Net("INT2"),
        "OCSB": Net("OCSB"),
        "OSDO": Net("OSDO"),
        "SDO": Net("SDO"),
        "VDDIO": power,
    },
    symbol = Symbol(library = "eda/BMI270.kicad_sym", name = "BMI270"),
    footprint = File("eda/BMI270.kicad_mod"),
)

Capacitor(
    name = "C",
    P1 = power,
    P2 = gnd,
    package = "0402",
    value = 0.0,
)
