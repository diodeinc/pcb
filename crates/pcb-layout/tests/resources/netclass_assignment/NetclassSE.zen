load("@stdlib:v0.3.4/board_config.zen", "Board")

Impedance = builtin.physical_value("Ohm")

# Test case 1: Single-ended 50Î© impedance
clk = Net("CLK_50", impedance=Impedance(50))
spi_clk = Net("SPI_CLK_50", impedance=Impedance(50))

# Test case 2: Single-ended with different impedances (no matching netclass)
high_z = Net("HIGH_Z", impedance=Impedance(1000))

# Test case 3: Nets without impedance (should use Default netclass)
gnd = Net("GND")
vcc = Net("VCC")
data = Net("DATA")

# Add components to create actual nets in schematic
Component(
    name="U1",
    footprint="Connector_PinHeader_2.54mm:PinHeader_2x04_P2.54mm_Vertical",
    pin_defs={"1": "1", "2": "2", "3": "3", "4": "4", "5": "5", "6": "6", "7": "7", "8": "8"},
    pins={
        "1": clk,
        "2": spi_clk,
        "3": high_z,
        "4": gnd,
        "5": vcc,
        "6": data,
        "7": gnd,
        "8": gnd,
    },
)

# Use Board() with layers=4 which includes impedance netclasses (50Ohm SE, 85/90/100Ohm Diff)
Board(
    name="netclass_test",
    layout_path="module/",
    layers=4,
)
