"""
TPD4E05U06 4-Channel ESD Protection Array Module
Automotive-grade USB 2.0 ESD protection diode
"""

load("github.com/akhilles/stdlib/interfaces.zen", "Ground", "Power", "Usb2")

gnd = io("GND", Ground)
d1p = io("D1P", Net)
d1m = io("D1M", Net)
d2p = io("D2P", Net)
d2m = io("D2M", Net)

Component(
    name = "TVS",
    symbol = Symbol(library = "gitlab.com/kicad/libraries/kicad-symbols/Power_Protection.kicad_sym", name = "TPD4E05U06DQA"),
    footprint = File("gitlab.com/kicad/libraries/kicad-footprints/Package_SON.pretty/USON-10_2.5x1.0mm_P0.5mm.kicad_mod"),
    prefix = "D",
    pin_defs = {
        "D1+": "1",
        "D1-": "2",
        "GND.1": "3",
        "D2+": "4",
        "D2-": "5",
        "NC.1": "6",
        "NC.2": "7",
        "GND.2": "8",
        "NC.3": "9",
        "NC.4": "10",
    },
    pins = {
        "GND.1": gnd.NET,
        "GND.2": gnd.NET,
        "D1+": d1p,
        "D1-": d1m,
        "D2+": d2p,
        "D2-": d2m,
        "NC.4": d1p,
        "NC.3": d1m,
        "NC.2": d2p,
        "NC.1": d2m,
    },
    mpn = "TPD4E05U06QDQARQ1",
    manufacturer = "Texas Instruments",
    description = "4-Channel ESD Protection Array, USB 2.0, Automotive",
    properties = {
        "esd_rating": "Â±30kV",
        "io_capacitance": "0.5pF",
        "clamping_voltage": "5.5V",
        "alternatives": [
            {"mpn": "TPD4E05U06DQAR", "manufacturer": "Texas Instruments"},
        ]
    },
)
